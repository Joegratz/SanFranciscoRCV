# SanFranciscoRCV
Analysis of San Francisco Ranked Choice Voting results published by the SF Department of Elections

This is a Python script intended to answer some statistical questions about how voters voted in San Francisco elections using ranked-choice voting ("RCV"). I am not an elections expert, and I don't claim that this tool is accurate; this is just intended to satisfy my curiosity and serve as a springboard for others.

The summary RCV results provided by the Department of Elections don't tell us anything about who the second and third choices were for those voters whose first choice was the winner or runner-up. That's because those choices don't make any difference to the outcome. But they're potentially interesting, and that data is derivable from the "ballot image" file published by the Department of Elections.

This tool derives that data from a "ballot image" file.

Here's example output (run on the 2018-06-15 report on the results of the 2018 San Francisco mayoral election):

> == FIRST PLACE VOTES BY WRITE-IN ANTOINE R. ROGERS VOTERS ==
>WRITE-IN ANTOINE R. ROGERS: 3
>MICHELLE BRAVO: 0
>LONDON BREED: 0
>MARK LENO: 0
>JANE KIM: 0
>RICHIE GREENBERG: 0
>ANGELA ALIOTO: 0
>AMY FARAH WEISS: 0
>ELLEN LEE ZHOU: 0
>WRITE-IN: 0
>== SECOND PLACE VOTES BY WRITE-IN ANTOINE R. ROGERS VOTERS ==
>WRITE-IN ANTOINE R. ROGERS: 0
>MICHELLE BRAVO: 0
>LONDON BREED: 3
>MARK LENO: 0
>JANE KIM: 0
>RICHIE GREENBERG: 0
>ANGELA ALIOTO: 0
>AMY FARAH WEISS: 0
>ELLEN LEE ZHOU: 0
>WRITE-IN: 0
>== THIRD PLACE VOTES BY WRITE-IN ANTOINE R. ROGERS VOTERS ==
>WRITE-IN ANTOINE R. ROGERS: 0
>MICHELLE BRAVO: 1
>LONDON BREED: 0
>MARK LENO: 0
>JANE KIM: 0
>RICHIE GREENBERG: 0
>ANGELA ALIOTO: 2
>AMY FARAH WEISS: 0
>ELLEN LEE ZHOU: 0
>WRITE-IN: 0
>======================================
>== FIRST PLACE VOTES BY MICHELLE BRAVO VOTERS ==
>WRITE-IN ANTOINE R. ROGERS: 0
>MICHELLE BRAVO: 888
>LONDON BREED: 0
>MARK LENO: 0
>JANE KIM: 0
>RICHIE GREENBERG: 0
>ANGELA ALIOTO: 0
>AMY FARAH WEISS: 0
>ELLEN LEE ZHOU: 0
>WRITE-IN: 0
>== SECOND PLACE VOTES BY MICHELLE BRAVO VOTERS ==
>WRITE-IN ANTOINE R. ROGERS: 0
>MICHELLE BRAVO: 81
>LONDON BREED: 117
>MARK LENO: 116
>JANE KIM: 89
>RICHIE GREENBERG: 76
>ANGELA ALIOTO: 180
>AMY FARAH WEISS: 59
>ELLEN LEE ZHOU: 107
>WRITE-IN: 0
>== THIRD PLACE VOTES BY MICHELLE BRAVO VOTERS ==
>WRITE-IN ANTOINE R. ROGERS: 0
>MICHELLE BRAVO: 97
>LONDON BREED: 98
>MARK LENO: 131
>JANE KIM: 97
>RICHIE GREENBERG: 78
>ANGELA ALIOTO: 125
>AMY FARAH WEISS: 76
>ELLEN LEE ZHOU: 93
>WRITE-IN: 0
>======================================
>== FIRST PLACE VOTES BY LONDON BREED VOTERS ==
>WRITE-IN ANTOINE R. ROGERS: 0
>MICHELLE BRAVO: 0
>LONDON BREED: 91,770
>MARK LENO: 0
>JANE KIM: 0
>RICHIE GREENBERG: 0
>ANGELA ALIOTO: 0
>AMY FARAH WEISS: 0
>ELLEN LEE ZHOU: 0
>WRITE-IN: 0
>== SECOND PLACE VOTES BY LONDON BREED VOTERS ==
>WRITE-IN ANTOINE R. ROGERS: 4
>MICHELLE BRAVO: 1,049
>LONDON BREED: 6,421
>MARK LENO: 27,271
>JANE KIM: 19,985
>RICHIE GREENBERG: 2,207
>ANGELA ALIOTO: 15,181
>AMY FARAH WEISS: 1,744
>ELLEN LEE ZHOU: 3,171
>WRITE-IN: 0
>== THIRD PLACE VOTES BY LONDON BREED VOTERS ==
>WRITE-IN ANTOINE R. ROGERS: 4
>MICHELLE BRAVO: 2,049
>LONDON BREED: 6,195
>MARK LENO: 16,706
>JANE KIM: 16,047
>RICHIE GREENBERG: 3,157
>ANGELA ALIOTO: 12,943
>AMY FARAH WEISS: 3,681
>ELLEN LEE ZHOU: 4,167
>WRITE-IN: 0
>======================================
>== FIRST PLACE VOTES BY MARK LENO VOTERS ==
>WRITE-IN ANTOINE R. ROGERS: 0
>MICHELLE BRAVO: 0
>LONDON BREED: 0
>MARK LENO: 61,211
>JANE KIM: 0
>RICHIE GREENBERG: 0
>ANGELA ALIOTO: 0
>AMY FARAH WEISS: 0
>ELLEN LEE ZHOU: 0
>WRITE-IN: 0
>== SECOND PLACE VOTES BY MARK LENO VOTERS ==
>WRITE-IN ANTOINE R. ROGERS: 0
>MICHELLE BRAVO: 355
>LONDON BREED: 15,513
>MARK LENO: 2,090
>JANE KIM: 30,653
>RICHIE GREENBERG: 1,124
>ANGELA ALIOTO: 5,583
>AMY FARAH WEISS: 993
>ELLEN LEE ZHOU: 923
>WRITE-IN: 0
>== THIRD PLACE VOTES BY MARK LENO VOTERS ==
>WRITE-IN ANTOINE R. ROGERS: 3
>MICHELLE BRAVO: 1,227
>LONDON BREED: 13,663
>MARK LENO: 2,268
>JANE KIM: 10,356
>RICHIE GREENBERG: 1,456
>ANGELA ALIOTO: 9,643
>AMY FARAH WEISS: 5,666
>ELLEN LEE ZHOU: 2,091
>WRITE-IN: 0
>======================================
>== FIRST PLACE VOTES BY JANE KIM VOTERS ==
>WRITE-IN ANTOINE R. ROGERS: 0
>MICHELLE BRAVO: 0
>LONDON BREED: 0
>MARK LENO: 0
>JANE KIM: 60,504
>RICHIE GREENBERG: 0
>ANGELA ALIOTO: 0
>AMY FARAH WEISS: 0
>ELLEN LEE ZHOU: 0
>WRITE-IN: 0
>== SECOND PLACE VOTES BY JANE KIM VOTERS ==
>WRITE-IN ANTOINE R. ROGERS: 0
>MICHELLE BRAVO: 273
>LONDON BREED: 10,224
>MARK LENO: 40,363
>JANE KIM: 1,333
>RICHIE GREENBERG: 302
>ANGELA ALIOTO: 2,835
>AMY FARAH WEISS: 1,757
>ELLEN LEE ZHOU: 1,445
>WRITE-IN: 0
>== THIRD PLACE VOTES BY JANE KIM VOTERS ==
>WRITE-IN ANTOINE R. ROGERS: 1
>MICHELLE BRAVO: 898
>LONDON BREED: 12,182
>MARK LENO: 8,488
>JANE KIM: 1,430
>RICHIE GREENBERG: 658
>ANGELA ALIOTO: 7,001
>AMY FARAH WEISS: 16,546
>ELLEN LEE ZHOU: 2,655
>WRITE-IN: 0
>======================================
>== FIRST PLACE VOTES BY RICHIE GREENBERG VOTERS ==
>WRITE-IN ANTOINE R. ROGERS: 0
>MICHELLE BRAVO: 0
>LONDON BREED: 0
>MARK LENO: 0
>JANE KIM: 0
>RICHIE GREENBERG: 7,008
>ANGELA ALIOTO: 0
>AMY FARAH WEISS: 0
>ELLEN LEE ZHOU: 0
>WRITE-IN: 0
>== SECOND PLACE VOTES BY RICHIE GREENBERG VOTERS ==
>WRITE-IN ANTOINE R. ROGERS: 1
>MICHELLE BRAVO: 224
>LONDON BREED: 1,061
>MARK LENO: 858
>JANE KIM: 364
>RICHIE GREENBERG: 686
>ANGELA ALIOTO: 1,561
>AMY FARAH WEISS: 256
>ELLEN LEE ZHOU: 658
>WRITE-IN: 0
>== THIRD PLACE VOTES BY RICHIE GREENBERG VOTERS ==
>WRITE-IN ANTOINE R. ROGERS: 0
>MICHELLE BRAVO: 328
>LONDON BREED: 893
>MARK LENO: 710
>JANE KIM: 463
>RICHIE GREENBERG: 667
>ANGELA ALIOTO: 879
>AMY FARAH WEISS: 345
>ELLEN LEE ZHOU: 479
>WRITE-IN: 0
>======================================
>== FIRST PLACE VOTES BY ANGELA ALIOTO VOTERS ==
>WRITE-IN ANTOINE R. ROGERS: 0
>MICHELLE BRAVO: 0
>LONDON BREED: 0
>MARK LENO: 0
>JANE KIM: 0
>RICHIE GREENBERG: 0
>ANGELA ALIOTO: 17,416
>AMY FARAH WEISS: 0
>ELLEN LEE ZHOU: 0
>WRITE-IN: 0
>== SECOND PLACE VOTES BY ANGELA ALIOTO VOTERS ==
>WRITE-IN ANTOINE R. ROGERS: 0
>MICHELLE BRAVO: 498
>LONDON BREED: 4,628
>MARK LENO: 3,551
>JANE KIM: 2,130
>RICHIE GREENBERG: 1,410
>ANGELA ALIOTO: 1,589
>AMY FARAH WEISS: 598
>ELLEN LEE ZHOU: 935
>WRITE-IN: 0
>== THIRD PLACE VOTES BY ANGELA ALIOTO VOTERS ==
>WRITE-IN ANTOINE R. ROGERS: 0
>MICHELLE BRAVO: 766
>LONDON BREED: 2,560
>MARK LENO: 2,811
>JANE KIM: 2,404
>RICHIE GREENBERG: 1,300
>ANGELA ALIOTO: 1,629
>AMY FARAH WEISS: 983
>ELLEN LEE ZHOU: 1,052
>WRITE-IN: 0
>======================================
>== FIRST PLACE VOTES BY AMY FARAH WEISS VOTERS ==
>WRITE-IN ANTOINE R. ROGERS: 0
>MICHELLE BRAVO: 0
>LONDON BREED: 0
>MARK LENO: 0
>JANE KIM: 0
>RICHIE GREENBERG: 0
>ANGELA ALIOTO: 0
>AMY FARAH WEISS: 1,658
>ELLEN LEE ZHOU: 0
>WRITE-IN: 0
>== SECOND PLACE VOTES BY AMY FARAH WEISS VOTERS ==
>WRITE-IN ANTOINE R. ROGERS: 0
>MICHELLE BRAVO: 84
>LONDON BREED: 184
>MARK LENO: 324
>JANE KIM: 570
>RICHIE GREENBERG: 87
>ANGELA ALIOTO: 172
>AMY FARAH WEISS: 56
>ELLEN LEE ZHOU: 104
>WRITE-IN: 0
>== THIRD PLACE VOTES BY AMY FARAH WEISS VOTERS ==
>WRITE-IN ANTOINE R. ROGERS: 0
>MICHELLE BRAVO: 85
>LONDON BREED: 201
>MARK LENO: 540
>JANE KIM: 298
>RICHIE GREENBERG: 71
>ANGELA ALIOTO: 139
>AMY FARAH WEISS: 60
>ELLEN LEE ZHOU: 125
>WRITE-IN: 0
>======================================
>== FIRST PLACE VOTES BY ELLEN LEE ZHOU VOTERS ==
>WRITE-IN ANTOINE R. ROGERS: 0
>MICHELLE BRAVO: 0
>LONDON BREED: 0
>MARK LENO: 0
>JANE KIM: 0
>RICHIE GREENBERG: 0
>ANGELA ALIOTO: 0
>AMY FARAH WEISS: 0
>ELLEN LEE ZHOU: 9,502
>WRITE-IN: 0
>== SECOND PLACE VOTES BY ELLEN LEE ZHOU VOTERS ==
>WRITE-IN ANTOINE R. ROGERS: 0
>MICHELLE BRAVO: 190
>LONDON BREED: 2,368
>MARK LENO: 1,026
>JANE KIM: 1,212
>RICHIE GREENBERG: 1,011
>ANGELA ALIOTO: 1,689
>AMY FARAH WEISS: 251
>ELLEN LEE ZHOU: 739
>WRITE-IN: 0
>== THIRD PLACE VOTES BY ELLEN LEE ZHOU VOTERS ==
>WRITE-IN ANTOINE R. ROGERS: 0
>MICHELLE BRAVO: 356
>LONDON BREED: 1,623
>MARK LENO: 1,213
>JANE KIM: 865
>RICHIE GREENBERG: 989
>ANGELA ALIOTO: 1,555
>AMY FARAH WEISS: 412
>ELLEN LEE ZHOU: 724
>WRITE-IN: 0
>======================================
>== FIRST PLACE VOTES BY WRITE-IN VOTERS ==
>WRITE-IN ANTOINE R. ROGERS: 0
>MICHELLE BRAVO: 0
>LONDON BREED: 0
>MARK LENO: 0
>JANE KIM: 0
>RICHIE GREENBERG: 0
>ANGELA ALIOTO: 0
>AMY FARAH WEISS: 0
>ELLEN LEE ZHOU: 0
>WRITE-IN: 0
>== SECOND PLACE VOTES BY WRITE-IN VOTERS ==
>WRITE-IN ANTOINE R. ROGERS: 0
>MICHELLE BRAVO: 0
>LONDON BREED: 0
>MARK LENO: 0
>JANE KIM: 0
>RICHIE GREENBERG: 0
>ANGELA ALIOTO: 0
>AMY FARAH WEISS: 0
>ELLEN LEE ZHOU: 0
>WRITE-IN: 0
>== THIRD PLACE VOTES BY WRITE-IN VOTERS ==
>WRITE-IN ANTOINE R. ROGERS: 0
>MICHELLE BRAVO: 0
>LONDON BREED: 0
>MARK LENO: 0
>JANE KIM: 0
>RICHIE GREENBERG: 0
>ANGELA ALIOTO: 0
>AMY FARAH WEISS: 0
>ELLEN LEE ZHOU: 0
>WRITE-IN: 0
>======================================
>
